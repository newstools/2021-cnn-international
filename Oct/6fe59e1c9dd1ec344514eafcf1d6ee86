(CNN Business)Snapchat's parent company crossed $1 billion in quarterly revenue for the first time ever, but worse-than-expected earnings and a forecast of more headwinds to come led its stock to crash on Thursday. Shares of Snap (SNAP), which owns the popular photo and video app, plunged as much as 25% in after-hours trading following the company's earnings report Thursday. The report warned that its revenues had been affected by changes to advertising metrics on iPhones. The company "grappled with industry changes to the way advertising is targeted, optimized, and measured on iOS that created a more significant impact on our business than we had expected," Snap's chief business officer, Jeremi Gorman, said in prepared remarks, referring to Apple's smartphone operating system. Apple rolled out new privacy features as part of its iOS 14.5 update earlier this year, which gives iPhone users the ability to more easily opt out of letting apps track their behavior and sell their personal data to advertisers. The move has caused some consternation among companies that depend on advertising for the majority of their revenues, with Facebook (FB) being particularly vocal about the resulting hit to its business. Snap had braced for the changes but was surprised by how big their impact was, CEO Evan Spiegel said Thursday. "While we anticipated some degree of business disruption, the new Apple-provided measurement solution did not scale as we had expected, making it more difficult for our advertising partners to measure and manage their ad campaigns for iOS," he said. 