(CNN)Zander Cumbey had walked into his afternoon high school classroom when he heard screaming outside in the hallway. The cries were punctuated by a gunshot, he said. "My teacher, he walked into the classroom; he locked the door, and he told us to call 911. And then we heard the rest of the gunshots go off, more screams," Cumbey told CNN. Authorities say at least 30 shots were fired, killing four students and wounding six other teenagers along with one teacher before the alleged shooter -- a student at Oxford High school -- was detained by police with rounds still in his handgun. Unleashed was the deadliest school shooting on a K-12 campus in the US since May 2018, forever scarring the Oxford community in suburban Detroit.  The four students who died were Madisyn Baldwin, 17; Tate Myre, 16; Hana St. Juliana, 14; and Justin Shilling, 17, authorities said. While the bursts of gunfire lasted only minutes, authorities said there is substantial evidence that it was a premeditated attack by the accused shooter, 15-year-old Ethan Crumbley. "A preliminary review of the defendant's social media accounts, his cellphone, as well as other documented evidence recovered on scene showed that this defendant planned this shooting, he deliberately brought the handgun that day with the intent to murder as many students as he could," Prosecutor Marc Keast said during Crumbley's arraignment on Wednesday. The high school sophomore is facing a slew of charges as an adult, including first-degree murder, terrorism and other accusations. In court on Wednesday, his lawyer, Scott Kozak, asked to enter a not-guilty plea during the arraignment, saying "my client is standing mute." His parents, James and Jennifer Crumbley, were each charged Friday with homicide involuntary manslaughter over their alleged role in the deadly shooting. After failing to turn up at their arraignment, they were arrested in Detroit. The weekend before the shooting James Crumbley bought the gun authorities believe was used in the shooting on November 26 at an Oxford store with his son, according to Karen McDonald, the Oakland County prosecutor who is leading the case. Around the same day, the alleged shooter posted a photo of a handgun on an Instagram account with the caption, "Just got my new beauty today. SIG SAUER 9mm" with a heart-eyes emoji, McDonald said at a news conference on Friday. Jennifer Crumbley also posted about the gun on social media over the weekend, saying, "mom and son day testing out his new Christmas present," McDonald said. And during the weekend, Jennifer Crumbley took her son to a shooting range, a law enforcement source told CNN. Disturbing red flags before the shooting As classes resumed after the long Thanksgiving holiday, a teacher noticed Ethan Crumbley searching the web for ammunition, McDonald said. The teacher notified school officials, who contacted the parents via phone and email, but they did not respond. Later on Monday, Jennifer Crumbley sent him a text message saying, "LOL I'm not mad at you. You have to learn not to get caught," McDonald said. In two videos on Crumbley's phone that were recorded that night, he talked about shooting and killing students at the high school, said Lt. Tim Willis of the Oakland County Sheriff's Office. Another piece of evidence is a journal found in Crumbley's backpack that details his "desire to shoot up the school to include murdering students," Willis said at the arraignment.  On Tuesday morning, another teacher found a drawing on the accused shooter's desk that essentially depicted a shooting, McDonald said. It "alarmed her to the point that she took a picture of it on her cell phone," the prosecutor said. The illustration showed a "semiautomatic handgun pointing at the words 'the thoughts won't stop help me,'" and it included a drawing of a bullet with the words "blood everywhere" written above it, she said. The words "my life is useless" and "the world is dead" were also written on the drawing. "Between the drawing of the gun and the bullet is a drawing of a person who appears to have been shot twice and bleeding. Below that figure is a drawing of a laughing emoji," McDonald said.  The distressing picture led school officials to hold a meeting with the accused shooter and his parents, who were instructed to help provide counseling for their son within 48 hours. During that meeting, Ethan Crumbley had the gun in his backpack, which was not searched, McDonald said. The parents resisted the idea of taking their son out of school, McDonald said, and he was allowed to return to the classroom. "That morning, looking at that drawing, it's impossible not to conclude that there was a reason to believe he was going to hurt somebody," she said. The district's school superintendent said Thursday that no discipline was needed against Crumbley after that meeting. "He was, you know, called up to the office and all that kind of stuff," Tim Throne said in a video statement. "No discipline was warranted. There are no discipline records at the high school."   Video footage shows how the shootings began, prosecutors say After Ethan Crumbley was allowed to return to class, surveillance video from the school's cameras shows what happened next, according to authorities. Just before 12:51 p.m., Crumbley could be seen with a backpack, then a minute or two later he exited the bathroom without the backpack but with a gun in hand, prosecutor Keast said at the arraignment Wednesday. Crumbley then allegedly began to "methodically and deliberately" walk the hallways and aim a gun at students and fire the weapon, Keast said. When students began to run away, the accused allegedly continued to go down the hallway at a "methodical pace" and shot inside classrooms and at students who hadn't escaped, he said. "What is depicted on that video, honestly judge, I don't have the words to describe how horrific that was," he said. This continued for another four or five minutes, and he went to another bathroom, Keast said. When deputies arrived, he set down the gun and surrendered.  Aiden Page, a senior at Oxford High School, described a terrifying scene in his classroom. "We heard two gunshots. And after that, my teacher ran into the room, locked it, we barricaded and then we covered the windows and hid," he told CNN's Anderson Cooper. "We grabbed calculators, we grabbed scissors just in case the shooter got in and we had to attack them," he said, describing how the shooter was so close that a bullet pierced one of the desks he and other students used to block the door. Cumbey, the junior who heard the initial gunshots, told CNN that the shooter was so close to his classroom that when he spoke to the 911 operator, he could only whisper "Oxford High School shooter," to avoid being heard. Dozens of other terrified students were also calling 911. The call center received more than 100 calls as police raced to the school at 12:52 p.m. local time, Oakland County Sheriff Michael Bouchard said.  The alleged shooter was arrested within two to three minutes of officers' arrival, Bouchard said. "I believe they literally saved lives, having taken down the suspect with a loaded firearm still in the building," the sheriff said. At around 1:15 p.m., news reports emerged about a shooting at the high school. At 1:22 p.m., Jennifer Crumbley texted her son, "Ethan don't do it," according to prosecutors. And at 1:37 p.m., prosecutors say, James Crumbley called 911 to report a gun was missing from his house, and that he believed his son may be the shooter. CNN's Shimon Prokupecz, Caroll Alvarado, Mark Morales, Kristina Sgueglia, Carolyn Sung, Elizabeth Joseph, Melanie Schuman, Theresa Waldrop, Adrienne Broaddus,Taylor Romine, Sahar Akbarzai, Sonia Moghe, Amir Vera, Jason Hanna, Laura Dolan, Steve Almasy, Jay Croft, Chris Boyette, Artemis Moshtaghian and Leon Jobe contributed to this report.